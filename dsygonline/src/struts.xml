<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" 
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<constant name="struts.custom.i18n.resources" value="messageResource" />
	<constant name="struts.i18n.encoding" value="UTF-8" />

	<constant name="struts.objectFactory" value="spring"/>
	<!-- 文件上传最大10M -->
	<constant name="struts.multipart.maxSize" value="10240000"></constant>
	
	<constant name="struts.multipart.saveDir" value="/tmp"/>
	
	<include file="struts-mailauth.xml"></include>
	<include file="struts-login.xml"></include>
	
	<package name="index" extends="struts-default, json-default" namespace="/index">
		
		<!-- 验证码 -->
		<action name="rand" class="randomActionBean">
			<interceptor-ref name="params"></interceptor-ref>
			<result type="stream">
		    	<param name="contentType">image/jpeg</param>
		        <param name="inputName">inputStream</param>
			</result>
		</action>
		
	</package>
	
</struts>